
{% extends "layout.html" %}

{% block pageTitle %}
  GOV.UK Prototype Kit
{% endblock %}

{% block content %}

<!-- set variables -->
{% if data['passport-checks'] %}
  {% set passportCheck = data['passport-checks'] %}
{% else %}
  {% set passportCheck = "nil" %}
{% endif %}

{% if data['driving-licence-checks'] %}
  {% set licenceCheck = data['driving-licence-checks'] %}
{% else %}
  {% set licenceCheck = "nil" %}
{% endif %}

{% set elementE = data['element-e'] %}

{% if data['other-count'] == "1" %}
  {% set evidence1 = data['other-evidence-1-checks'] %}
{% else %}
  {% set evidence1 = "nil" %}
{% endif %}


  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">
        How confident you can be in the person’s identity
      </h1>

      <!-- <h2 class="govuk-heading-l">How confident you can be in the person’s identity</h2> -->

      <p style="font-weight:bold">
        Your service can achieve a high confidence level.
      </p>
      <p>
        This means it lowers the risk of accepting synthetic identities or being attacked by third parties that have stolen other people’s identities.
      </p>
      <p>
        How confident you can be depends on how many pieces of evidence you collect and what score they get for each check.
      </p>


      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="col">Identity element</th>
            <th class="govuk-table__header" scope="col">Score</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          {% if data['evidence'].includes('Passport') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Passport strength</td>
              <td class="govuk-table__cell">3</td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Passport') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Passport validity</td>
              <td class="govuk-table__cell">
                {% if passportCheck.includes('2') and passportCheck.includes('3') and passportCheck.includes('4') %}
                  4
                {% elif passportCheck.includes('2') and ( passportCheck.includes('3') or passportCheck.includes('4') ) %}
                  3
                {% elif passportCheck.includes('2') or passportCheck.includes('3') or passportCheck.includes('4') %}
                  2
                {% elif passportCheck.includes('1')%}
                  1
                {% endif %}
              </td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Driving licence') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Driving licence strength</td>
              <td class="govuk-table__cell">3</td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Driving licence') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Driving licence validity</td>
              <td class="govuk-table__cell">
                {% if licenceCheck.includes('2') and licenceCheck.includes('3') %}
                  3
                {% elif licenceCheck.includes('2') or licenceCheck.includes('3') %}
                  2
                {% elif licenceCheck.includes('1') %}
                  1
                {% endif %}
              </td>
            </tr>
          {% endif %}
          {% if data['other-count'] == "1" %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">{{data['evidence-1-name']}} strength</td>

              <td class="govuk-table__cell">
                {% if data['other-evidence-1-a'] == "no" %}
                  0
                {% elif data['other-evidence-1-b'] == "no" or  data['other-evidence-1-b'] == "no" or data['other-evidence-1-e'] == "no"%}
                  1
                {% elif data['other-evidence-1-f'] == "no" or data['other-evidence-1-g'] == "no" or data['other-evidence-1-h'] == "no" %}
                  2
                {% elif data['other-evidence-1-i'] == "no" %}
                  3
                {% elif data['other-evidence-1-i'] == "yes" %}
                  4
                {% endif %}
              </td>
            </tr>
          {% endif %}
          {% if data['other-count'] == "1" %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">{{data['evidence-1-name']}} validity</td>
              <td class="govuk-table__cell">
                {% if evidence1.includes('2') and evidence1.includes('3') %}
                  3
                {% elif evidence1.includes('2') or evidence1.includes('3') %}
                  2
                {% elif evidence1.includes('1') %}
                  1
                {% endif %}
              </td>
            </tr>
          {% endif %}


          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">History</td>
            <td class="govuk-table__cell">
              {% if elementE.includes('n/a') %}
               No history check
              {% elif elementE.includes('90') %}
                1
              {% elif elementE.includes('180') %}
                2
              {% elif elementE.includes('405') %}
                3
              {% elif elementE.includes('1080') %}
                4
              {% endif %}
            </td>
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Fraud</td>
            <td class="govuk-table__cell">
              {% if data['element-d-a'] == "no" %}
                No fraud check
              {% elif data['element-d-b'] == "no" %}
                1
              {% elif data['element-d-c'] == "1" %}
                3
              {% else %}
                4
              {% endif %}
            </td>
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Verification</td>
            <td class="govuk-table__cell">
              {% if data['element-c-a'] == "no" %}
               No verification check
              {% elif (data['element-c-b'].includes('1') or data['element-c-b'].includes('2')) and data['element-c-b'].includes('3') %}
                3
              {% elif data['element-c-b'].includes('1') or data['element-c-b'].includes('2') or data['element-c-b'].includes('3') %}
                2
              {% endif %}
            </td>
          </tr>

        </tbody>
      </table>

      <h2 class="govuk-heading-m">Meeting identity evidence profiles</h2>
      <p>
        Changing how thoroughly you do each check will give you a different combination of scores. These combinations are also known as 'identity evidence profiles'.
      </p>

      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="col">Identity profile</th>
            <th class="govuk-table__header" scope="col">Score</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Passport strength</td>
            <td class="govuk-table__cell">3</td>
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Passport validity</td>
            <td class="govuk-table__cell">
            </td>
          </tr>
        </tbody>
      </table>


      <!-- <img src="../../public/images/chart.png" alt="result" width="100%"> -->


    </div>
  </div>

{% endblock %}
