
{% extends "layout.html" %}

{% block pageTitle %}
  GOV.UK Prototype Kit
{% endblock %}

{% block content %}

<!-- set variables -->
{% if data['passport-checks'] %}
  {% set passportCheck = data['passport-checks'] %}
{% else %}
  {% set passportCheck = "nil" %}
{% endif %}

{% if data['driving-licence-checks'] %}
  {% set licenceCheck = data['driving-licence-checks'] %}
{% else %}
  {% set licenceCheck = "nil" %}
{% endif %}

{% set elementE = data['element-e'] %}

{% if data['other-count'] == "1" %}
  {% set evidence1 = data['other-evidence-1-checks'] %}
{% else %}
  {% set evidence1 = "nil" %}
{% endif %}

{% set A1 = "You find some evidence that shows the identity exists." %}
{% set A2 = "You know that evidence of the identity exists. (I’m really not sure what this one should be - one to check with the SMEs)" %}
{% set A3 = "You trust that evidence of the identity exists." %}
{% set A4 = "You find some strong evidence that shows the identity exists." %}

{% set B1 = "You check that it’s genuine." %}
{% set B2 = "You check that it’s genuine or valid." %}
{% set B3 = "You check that it’s genuine and valid." %}
{% set B4 = "You check it’s genuine, valid and protected by cryptographic security features." %}

{% set E1 = "You’re sure the identity has been recently active." %}
{% set E2 = "You’re sure the identity has been active for a reasonably long time." %}
{% set E3 = "You’re confident that the identity exists in the real world." %}

{% set D1 = "You check the person is not at risk of being impersonated." %}
{% set D2 = "You’re reasonably sure the person is not at risk of being impersonated." %}
{% set D3 = "You’re confident the person isn’t at risk of being impersonated." %}

{% set C1 = "You check they know some things about the claimed identity." %}
{% set C2 = "You’re reasonably sure the person knows some things about the claimed identity." %}
{% set C3 = "You’re confident that the person matches the identity shown on the evidence." %}
{% set C4 = "You check that their biometric information matches what’s on the evidence." %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
        How confident you can be in the person’s identity
      </h1>

      <p>
        How confident you can be depends on how many pieces of evidence you collect and what score they get for each check.
      </p>
    </div>
    <div class="govuk-grid-column-full">

      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="col">Identity element</th>
            <th class="govuk-table__header" scope="col">Score</th>
            <th class="govuk-table__header" scope="col">What your score means</th>
            <th class="govuk-table__header" scope="col"></th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          {% if data['evidence'].includes('Passport') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Passport strength</td>
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{A3}}</td>
              <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Passport') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Passport validity</td>
              {% if passportCheck.includes('2') and passportCheck.includes('3') and passportCheck.includes('4') %}
                <td class="govuk-table__cell">4</td>
                <td class="govuk-table__cell">{{B4}}</td>
              {% elif passportCheck.includes('2') and ( passportCheck.includes('3') or passportCheck.includes('4') ) %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{B3}}</td>
              {% elif passportCheck.includes('2') or passportCheck.includes('3') or passportCheck.includes('4') %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{B2}}</td>
              {% elif passportCheck.includes('1')%}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{B1}}</td>
              {% endif %}
              <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Driving licence') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Driving licence strength</td>
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{A3}}</td>
              <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Driving licence') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Driving licence validity</td>
              {% if licenceCheck.includes('2') and licenceCheck.includes('3') %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{B3}}</td>
              {% elif licenceCheck.includes('2') or licenceCheck.includes('3') %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{B2}}</td>
              {% elif licenceCheck.includes('1') %}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{B1}}</td>
              {% endif %}
              <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
            </tr>
          {% endif %}
          {% if data['other-count'] == "1" %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">{{data['evidence-1-name']}} strength</td>
              {% if data['other-evidence-1-a'] == "no" %}
                <td class="govuk-table__cell">0</td>
                <td class="govuk-table__cell">{{A0}}</td>
              {% elif data['other-evidence-1-b'] == "no" or  data['other-evidence-1-b'] == "no" or data['other-evidence-1-e'] == "no"%}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{A1}}</td>
              {% elif data['other-evidence-1-f'] == "no" or data['other-evidence-1-g'] == "no" or data['other-evidence-1-h'] == "no" %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{A2}}</td>
              {% elif data['other-evidence-1-i'] == "no" %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{A3}}</td>
              {% elif data['other-evidence-1-i'] == "yes" %}
                <td class="govuk-table__cell">4</td>
                <td class="govuk-table__cell">{{A4}}</td>
              {% endif %}
              <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
            </tr>
          {% endif %}
          {% if data['other-count'] == "1" %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">{{data['evidence-1-name']}} validity</td>
              {% if evidence1.includes('2') and evidence1.includes('3') %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{B3}}</td>
              {% elif evidence1.includes('2') or evidence1.includes('3') %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{B2}}</td>
              {% elif evidence1.includes('1') %}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{B1}}</td>
              {% endif %}
              <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
            </tr>
          {% endif %}


          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">History</td>
            {% if elementE.includes('n/a') %}
               <td class="govuk-table__cell">N/A</td>
               <td class="govuk-table__cell">No history check</td>
            {% elif elementE.includes('90') %}
              <td class="govuk-table__cell">1</td>
              <td class="govuk-table__cell">{{E1}}</td>
            {% elif elementE.includes('180') %}
              <td class="govuk-table__cell">2</td>
              <td class="govuk-table__cell">{{E2}}</td>
            {% elif elementE.includes('405') %}
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{E3}}</td>
            {% elif elementE.includes('1080') %}
              <td class="govuk-table__cell">4</td>
              <td class="govuk-table__cell">{{E4}}</td>
            {% endif %}
            <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Fraud</td>
            {% if data['element-d-a'] == "no" %}
              <td class="govuk-table__cell">N/A</td>
              <td class="govuk-table__cell">No fraud check</td>
            {% elif data['element-d-b'] == "no" %}
              <td class="govuk-table__cell">1</td>
              <td class="govuk-table__cell">{{D1}}</td>
            {% elif data['element-d-c'] == "1" %}
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{D3}}</td>
            {% else %}
              <td class="govuk-table__cell">4</td>
              <td class="govuk-table__cell">{{D2}}</td>
            {% endif %}
            <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Verification</td>
            {% if data['element-c-a'] == "no" %}
              <td class="govuk-table__cell">N/A</td>
              <td class="govuk-table__cell">No verification check</td>
            {% elif (data['element-c-b'].includes('1') or data['element-c-b'].includes('2')) and data['element-c-b'].includes('3') %}
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{C3}}</td>
            {% elif data['element-c-b'].includes('1') or data['element-c-b'].includes('2') or data['element-c-b'].includes('3') %}
              <td class="govuk-table__cell">2</td>
              <td class="govuk-table__cell">{{C2}}</td>
            {% endif %}
            <td class="govuk-table__cell" style="text-align:right"><a href="#">Change</a></td>
          </tr>
        </tbody>
      </table>


    </div>
  </div>

{% endblock %}
