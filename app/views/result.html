
{% extends "layout.html" %}

{% block pageTitle %}
  GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
  {% from "breadcrumbs/macro.njk" import govukBreadcrumbs %}

  {{ govukBreadcrumbs({
  items: [
    {
      text: "Identity standard",
      href: "#"
    },{
      text: "Assess how your identity service meets the standard",
      href: "/index"
    },
    {
      text: "How confident you can be in the person’s identity"
    }
  ]
  }) }}

{% endblock %}

{% block content %}

<!-- set variables -->
{% if data['passport-checks'] %}
  {% set passportCheck = data['passport-checks'] %}
{% else %}
  {% set passportCheck = "nil" %}
{% endif %}

{% if data['driving-licence-checks'] %}
  {% set licenceCheck = data['driving-licence-checks'] %}
{% else %}
  {% set licenceCheck = "nil" %}
{% endif %}

{% set elementE = data['element-e'] %}

{% if data['other-count'] == "1" %}
  {% set evidence1 = data['other-evidence-1-checks'] %}
{% else %}
  {% set evidence1 = "nil" %}
{% endif %}

{% set A1 = "You collect evidence that includes some basic information about the person." %}
{% set A2 = "You know the person needed to prove their identity to get the evidence. You also know that any digital information the evidence contains is protected by cryptographic security features." %}
{% set A3 = "You know the organisation made sure the evidence was received by the same person who applied for it." %}
{% set A4 = "You know the organisation made sure the person matched an image they had from a trusted source." %}

{% set B1 = "You've checked the person's details match the details held by the organisation that issued the evidence." %}
{% set B2 = "You checked details of the evidence (such as its reference number or expiry date) match the details held by the organisation that issued it." %}
{% set B3 = "You've checked that any security features on the evidence are genuine." %}
{% set B4 = "You've checked the chip on the passport is genuine." %}

{% set E1 = "You know the identity has interacted with other organisations or individuals over the past 3 months." %}
{% set E2 = "You know the identity has interacted with other organisations or individuals over the past 6 months." %}
{% set E3 = "You know the identity has interacted with other organisations or individuals over the past 1 year." %}
{% set E4 = "You know the identity has interacted with other organisations or individuals over the past 3 years." %}

{% set D1 = "You've checked with a reliable and authoritative data source that the identity hasn't been stolen or used fraudulently." %}
{% set D2 = "You’ve checked with a reliable and authoritative data source that the identity doesn't belong to someone who's died." %}
{% set D3 = "You've checked with at least one independent, reliable and authoritative data source that the identity hasn't been stolen or used fraudulently." %}

{% set C1 = "You've checked the person knows some things about the person they're claiming to be." %}
{% set C2 = "You’ve checked they match the photo or biometric information on the evidence." %}
{% set C3 = "You've checked the person can complete tasks that only the person they're claiming to be can do." %}
{% set C4 = "You've checked that their biometric information matches what’s on the evidence." %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
        How confident you can be in the person’s identity
      </h1>

      <p>
        Each element of your identity check can be scored between 0 and 4, how confident you can be depends on how many pieces of evidence you collect and what score they get for each check.
      </p>
    </div>
    <div class="govuk-grid-column-full">
      <br>
      <h2 class="govuk-heading-m">Scores for your checks</h2>

      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th class="govuk-table__header" scope="col">Element</th>
            <th class="govuk-table__header" scope="col">Score</th>
            <th class="govuk-table__header" scope="col">Risks</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          {% if data['evidence'].includes('Passport') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Passport strength</td>
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{A3}}</td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Passport') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Passport validity</td>
              {% if passportCheck.includes('2') and passportCheck.includes('3') and passportCheck.includes('4') %}
                <td class="govuk-table__cell">4</td>
                <td class="govuk-table__cell">{{B4}}</td>
              {% elif passportCheck.includes('2') and ( passportCheck.includes('3') or passportCheck.includes('4') ) %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{B3}}</td>
              {% elif passportCheck.includes('2') or passportCheck.includes('3') or passportCheck.includes('4') %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{B2}}</td>
              {% elif passportCheck.includes('1')%}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{B1}}</td>
              {% endif %}
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Driving licence') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Driving licence strength</td>
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{A3}}</td>
            </tr>
          {% endif %}
          {% if data['evidence'].includes('Driving licence') %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">Driving licence validity</td>
              {% if licenceCheck.includes('2') and licenceCheck.includes('3') %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{B3}}</td>
              {% elif licenceCheck.includes('2') or licenceCheck.includes('3') %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{B2}}</td>
              {% elif licenceCheck.includes('1') %}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{B1}}</td>
              {% endif %}
            </tr>
          {% endif %}
          {% if data['other-count'] == "1" %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">{{data['evidence-1-name']}} strength</td>
              {% if data['other-evidence-1-a'] == "no" %}
                <td class="govuk-table__cell">0</td>
                <td class="govuk-table__cell">{{A0}}</td>
              {% elif data['other-evidence-1-b'] == "no" or  data['other-evidence-1-b'] == "no" or data['other-evidence-1-e'] == "no"%}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{A1}}</td>
              {% elif data['other-evidence-1-f'] == "no" or data['other-evidence-1-g'] == "no" or data['other-evidence-1-h'] == "no" %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{A2}}</td>
              {% elif data['other-evidence-1-i'] == "no" %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{A3}}</td>
              {% elif data['other-evidence-1-i'] == "yes" %}
                <td class="govuk-table__cell">4</td>
                <td class="govuk-table__cell">{{A4}}</td>
              {% endif %}
            </tr>
          {% endif %}
          {% if data['other-count'] == "1" %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" scope="row">{{data['evidence-1-name']}} validity</td>
              {% if evidence1.includes('2') and evidence1.includes('3') %}
                <td class="govuk-table__cell">3</td>
                <td class="govuk-table__cell">{{B3}}</td>
              {% elif evidence1.includes('2') or evidence1.includes('3') %}
                <td class="govuk-table__cell">2</td>
                <td class="govuk-table__cell">{{B2}}</td>
              {% elif evidence1.includes('1') %}
                <td class="govuk-table__cell">1</td>
                <td class="govuk-table__cell">{{B1}}</td>
              {% endif %}
            </tr>
          {% endif %}


          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">History</td>
            {% if data['element-e-a'].includes('n/a') %}
               <td class="govuk-table__cell">N/A</td>
               <td class="govuk-table__cell">No history check</td>
            {% elif elementE.includes('90') %}
              <td class="govuk-table__cell">1</td>
              <td class="govuk-table__cell">{{E1}}</td>
            {% elif elementE.includes('180') %}
              <td class="govuk-table__cell">2</td>
              <td class="govuk-table__cell">{{E2}}</td>
            {% elif elementE.includes('405') %}
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{E3}}</td>
            {% elif elementE.includes('1080') %}
              <td class="govuk-table__cell">4</td>
              <td class="govuk-table__cell">{{E4}}</td>
            {% endif %}
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Fraud</td>
            {% if data['element-d-a'] == "no" %}
              <td class="govuk-table__cell">N/A</td>
              <td class="govuk-table__cell">No fraud check</td>
            {% elif data['element-d-b'] == "no" %}
              <td class="govuk-table__cell">1</td>
              <td class="govuk-table__cell">{{D1}}</td>
            {% elif data['element-d-c'] == "1" %}
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{D3}}</td>
            {% else %}
              <td class="govuk-table__cell">4</td>
              <td class="govuk-table__cell">{{D2}}</td>
            {% endif %}
          </tr>

          <tr class="govuk-table__row">
            <td class="govuk-table__cell" scope="row">Verification</td>
            {% if data['element-c-a'] == "no" %}
              <td class="govuk-table__cell">N/A</td>
              <td class="govuk-table__cell">No verification check</td>
            {% elif (data['element-c-b'].includes('1') or data['element-c-b'].includes('2')) and data['element-c-b'].includes('3') %}
              <td class="govuk-table__cell">3</td>
              <td class="govuk-table__cell">{{C3}}</td>
            {% elif data['element-c-b'].includes('1') or data['element-c-b'].includes('2') or data['element-c-b'].includes('3') %}
              <td class="govuk-table__cell">2</td>
              <td class="govuk-table__cell">{{C2}}</td>
            {% endif %}
          </tr>
        </tbody>
      </table>
    </div>
    <div class="govuk-grid-column-two-thirds">

      <h2 class="govuk-heading-m">Strengths</h2>

      <p>You can achieve <span style="">medium confidence</span> in the person’s identity.</p>

      <p>
        Medium confidence lowers the risk of you:
        <ul class="govuk-list govuk-list--bullet">
          <li>accepting synthetic identities</li>
          <li>being targeted by people that could know the identity (but might not be close friends or family)</li>
          <li>being targeted by people who don't look like the identity</li>
        </ul>
      </p>

      <h2 class="govuk-heading-m">Risks</h2>
      <p>
        You may still be at risk of being targeted by people that could know the identity (including close friends or family)</li>
        </ul>
      </p>

      <h2 class="govuk-heading-m">Combining evidence to meet a level of confidence</h2>

      <p>Changing how thoroughly you do each check will give you a different combination of scores. These combinations are also known as ‘identity evidence profiles’.</p>

      <div class="govuk-inset-text">
        <p style="font-weight:bold">Example</p>
        <p>
        You want a medium confidence rating in someone's identity. They gave you their UK passport, which has a strength score of 4. As you have a strong piece of evidence, you only need to check recent interactions that they've had with other people or organisations. This will give you a history score of 1.
        <br><br>
        If you decide to look for interactions from over a longer period of time you'll be able to accept a weaker piece of evidence, like a credit card statement. Even though you're doing a less thorough strength check, you'll still have medium confidence in the identity because the history check is now more thorough.
        </p>
      </div>

      <p><a href="/">View identity evidence profiles</a>  </p>


    </div>
  </div>

{% endblock %}
